---
title: 测试区域5：更改源代码管理 |Microsoft Docs
description: 此源代码管理插件测试区域介绍了如何使用 "更改源代码管理" 命令更改源代码管理。
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- source control [Visual Studio SDK], changing
- source control plug-ins, changing source control
ms.assetid: fdf09e00-108c-4d51-bbd5-72452d52a490
author: leslierichardson95
ms.author: lerich
manager: jmartens
ms.technology: vs-ide-sdk
ms.workload:
- vssdk
ms.openlocfilehash: 24cbcc50b3641bc62242ee7216d6ce4c1f290efd
ms.sourcegitcommit: b12a38744db371d2894769ecf305585f9577792f
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/13/2021
ms.locfileid: "126664800"
---
# <a name="test-area-5-change-source-control"></a>测试区域 5：更改源代码管理
此源代码管理插件测试区域介绍了如何通过 " **更改源代码管理** " 命令更改源代码管理。

 "**更改源代码管理**" 命令为用户提供四个基本函数：

- **绑定**

   允许用户建立或重新建立解决方案/项目与版本存储之间的源代码管理链接。

- **首先**

   按连接从源代码管理中删除项目/解决方案。

- **连接/Disconnect：**

  切换区域3中所述的受控解决方案的连接或脱机状态。 有关详细信息，请参阅 [测试区域3：签出/撤消签出](../../extensibility/internals/test-area-3-check-out-undo-checkout.md)。

## <a name="command-menu-access"></a>命令菜单访问
 以下 [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] 集成开发环境菜单路径用于测试用例。

 更改源代码管理：**文件**、 **源代码管理**、 **更改源代码管理**。

## <a name="test-cases"></a>测试用例
 下面是 " **更改源代码管理** " 命令测试区域的特定测试用例。

### <a name="case-5a-bind"></a>案例 5a：绑定
 绑定允许用户将源代码管理信息添加到选定的项目和解决方案。 通常，系统会提示用户在源代码管理中标识要添加这些项目的项目。 在此操作过程中，用户不能在源代码管理中创建一个新项目 (与 "添加到源代码管理") 相比较。

| 操作 | 测试步骤 | 要验证的预期结果 |
| - | - | - |
| 绑定到空位置 | 1. 创建项目。<br />2. 将解决方案添加到源代码管理。<br />3. 打开 " **更改源代码管理** " 对话框 (**文件**、 **源代码管理**、 **更改源代码管理**) 。<br />4. 单击 " **取消绑定**"。<br />5. 接受警告对话框（如果显示）。<br />6. 选择所有项。<br />7. 单击 " **绑定**"。<br />8. 浏览到源代码管理存储区中的空位置。<br />9. 单击 **"确定"** 以关闭 " **更改源代码管理** " 对话框。<br />10. 在 "确认" 对话框中单击 " **继续** "。<br />11. 如果出现警告对话框，请单击 **"确定"** 。<br />12. 检查所有内容。 如果此步骤成功，则继续下一步。<br />13. 将解决方案从源代码管理打开到新位置。 | `Result from Step 12:`<br /><br /> 解决方案和项目绑定到版本存储区中的新目标并写入到该目标。<br /><br /> 解决方案和项目文件已签入。<br /><br /> 版本存储项目层次结构与磁盘上的项目的文件夹层次结构相匹配。<br /><br /> `Result from Step 13:`<br /><br /> 下载所有项目项。 |
| 与客户端同步的 "绑定到位置" | 1. 创建项目。<br />2. 将解决方案添加到源代码管理。<br />3. 如果使用) ，则在版本存储 (共享和分支中创建解决方案和项目的副本 [!INCLUDE[vsvss](../../extensibility/includes/vsvss_md.md)] 。<br />4. 打开 " **更改源代码管理** " 对话框 (**文件**、 **源代码管理**、 **更改源代码管理**) 。<br />5. 全部解除绑定。<br />6. 单击 **"确定" 关闭 "** **更改源代码管理** " 对话框。<br />7. 重新打开 " **更改源代码管理** " 对话框。<br />8. 全选。<br />9. 单击 " **绑定**"。<br />10. 浏览到步骤3中的解决方案和项目 (的分支位置) <br />11. 单击 **"确定"** 以关闭 " **更改源代码管理** " 对话框。<br />12. 以递归方式获取所有项的最新内容。 | Get 后的文件内容与 get 之前的内容相同。 |
| 绑定到与客户端不同步的位置 | 1. 创建项目。<br />2. 将解决方案添加到源代码管理。<br />3. 如果使用) ，则在版本存储 (共享和分支中创建解决方案和项目的副本 [!INCLUDE[vsvss](../../extensibility/includes/vsvss_md.md)] 。<br />4. 修改版本存储区中的分支项目中的文件。<br />5. 打开 " **更改源代码管理** " 对话框 (**文件**、 **源代码管理**、 **更改源代码管理**) 。<br />6. 全部解除绑定。<br />7. 单击 **"确定" 关闭 "** **更改源代码管理** " 对话框。<br />8. 重新打开 " **更改源代码管理** " 对话框。<br />9. 全选。<br />10. 单击 " **绑定**"。<br />11. 浏览到解决方案和项目的分支位置。<br />12. 单击 **"确定"** 以关闭 " **更改源代码管理** " 对话框。<br />13. 接受警告对话框（如果显示）。<br />14. 获取所有项的最新递归。 | 在步骤4中修改的文件也会在本地修改。 |
| 绑定从不受源代码管理的解决方案 | 1. 在源代码管理中创建空文件夹。<br />2. 创建客户端项目。<br />3. 打开 " **更改源代码管理** " 对话框 (**文件**、 **源代码管理**、 **更改源代码管理**) 。<br />4. 将解决方案绑定到源代码管理中的空位置。<br />5. 单击 **"确定"** 以关闭 " **更改源代码管理** " 对话框。<br />6. 单击 "确认" 对话框中 **的 "继续** " "绑定"。<br />7. 如果出现警告对话框，请单击 **"确定** "。 | 解决方案已添加到源代码管理中。<br /><br /> 解决方案和项目已签出。 |
| 取消绑定 | 1. 创建项目。<br />2. 将解决方案添加到源代码管理。<br />3. 打开 "更改源代码管理" 对话框。<br />4. 全部解除绑定。<br />5. 单击 **"确定"** 按钮关闭对话框。 如果此步骤成功，则继续下一步。<br />6. 重新打开 " **更改源代码管理** " 对话框。<br />7. 绑定到无关位置。<br />8. 单击 " **取消**"。 | `Result from Step 5:`<br /><br /> 解决方案不再受源代码管理<br /><br /> `Result from Step 8:`<br /><br /> 解决方案仍不受源代码管理。 |

### <a name="case-5b-unbind"></a>案例 5b：取消绑定
 拆散从项目及其解决方案中删除源代码管理信息。 受影响的项目和解决方案基于用户选择的组合，以及如何将这些项添加到源代码管理中。

|操作|测试步骤|要验证的预期结果|
|------------|----------------|--------------------------------|
|取消绑定包含一个文件系统或本地 IIS Web 项目和一个客户端项目的解决方案|1. 创建文件系统或本地 IIS Web 项目。<br />2. 将解决方案添加到源代码管理。<br />3. 向解决方案中添加新的客户端项目。<br />4. 在出现提示时接受对解决方案的签出。<br />5. 打开 " **更改源代码管理** " 对话框。<br />6. 单击 " **取消绑定**"。<br />7. 单击 **"确定"** 关闭对话框。<br />8. 尝试签出解决方案、项目、解决方案项和项目项。|解决方案和项目不受源代码管理。<br /><br /> 不显示源代码管理菜单命令。|
|取消拆散|1. 创建项目。<br />2. 将解决方案添加到源代码管理。<br />3. 打开 " **更改源代码管理** " 对话框。<br />4. 单击 " **全部取消**"。<br />5. 单击 " **取消**"。|解决方案受源代码管理。|

### <a name="case-5c-rebind"></a>案例 5c：重新绑定
 重新绑定只是取消绑定和绑定的组合，这是重新绑定以前受源代码管理且未绑定的项目/解决方案的过程。

|操作|测试步骤|要验证的预期结果|
|------------|----------------|--------------------------------|
|在不关闭 " **更改源代码管理** " 对话框的情况下重新绑定解决方案和项目|1. 创建项目。<br />2. 将解决方案添加到源代码管理。<br />3. 打开 " **更改源代码管理** " 对话框。<br />4. 单击 " **取消绑定**"。<br />5. 选择所有行。<br />6. 单击 " **绑定**"。<br />7. 单击 **"确定"** 以关闭 " **更改源代码管理** " 对话框。<br />8. 如果出现提示，则接受结帐。|解决方案和项目受源代码管理。|
|仅在未关闭 " **更改源代码管理** " 对话框的情况下重新绑定项目|1. 创建项目。<br />2. 使用 (文件 >源代码管理来仅将项目添加到源代码管理->将选定项目添加到源代码管理。<br />3. 打开 "更改源代码管理" 对话框。<br />4. 仅取消项目。<br />5. 仅绑定项目。|解决方案保持不受控制。<br /><br /> Project 保持控制。|
|仅在未关闭 " **更改源代码管理** " 对话框的情况下重新绑定解决方案|1. 创建项目。<br />2. 使用 (**文件**、 **源代码管理**、 **将选定项目添加到源代码管理** 中，仅将解决方案添加到源代码管理。<br />3. 打开 " **更改源代码管理** " 对话框。<br />4. 仅取消解决方案 (不要关闭 " **更改源代码管理** " 对话框。 ) <br />5. 仅绑定解决方案。<br />6. 单击 **"确定"** 关闭对话框。<br />7. 检查解决方案和解决方案项 (（如果有）。 ) |解决方案保持受控。<br /><br /> Project 保持不受控制。|
|仅在同一目录中重新绑定解决方案/项目|1. 创建项目。<br />2. 使用 (**文件**、 **源代码管理**、 **将选定项目添加到源代码管理** 中，仅将项目添加到源代码管理。<br />3. 关闭解决方案。<br />4. 创建至少包含两个项目的新解决方案。<br />5. 将解决方案添加到源代码管理。<br />6. 从源代码管理添加在步骤1中创建的项目。<br />7. 如果出现提示，请接受解决方案的签出。<br />8. 检查整个解决方案。<br />9. 打开 " **更改源代码管理** " 对话框。<br />10. 从步骤 6) 中选择添加的项目 (，然后单击 " **取消绑定**"。<br />11. 单击 **"确定"** 关闭对话框。<br />12. 如果出现提示，请接受结帐。<br />13. 重新打开 " **更改源代码管理** " 对话框。<br />14. 从步骤 6) 中选择添加的项目 (，然后单击 " **绑定**"。<br />15. 选择原始位置。|解决方案和项目保持控制。|

## <a name="see-also"></a>另请参阅
- [源代码管理插件的测试指南](../../extensibility/internals/test-guide-for-source-control-plug-ins.md)
