---
title: 图像编辑器
description: 了解如何使用 Visual Studio 图像编辑器来查看和修改 DirectX 应用开发中使用的纹理和图像资源。
ms.custom: SEO-VS-2020
ms.date: 08/10/2018
ms.topic: conceptual
f1_keywords:
- vs.graphics.designer.imageeditor
- vs.graphics.imageeditor
author: TerryGLee
ms.author: tglee
manager: jmartens
ms.technology: vs-ide-designers
ms.workload:
- multiple
ms.openlocfilehash: 47bcc37f0fe000066f8e2585098601b71e606a12
ms.sourcegitcommit: 68897da7d74c31ae1ebf5d47c7b5ddc9b108265b
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/13/2021
ms.locfileid: "122133544"
---
# <a name="image-editor"></a>图像编辑器

本文介绍如何使用 Visual Studio 图像编辑器查看和修改纹理及图像资源。

可使用图像编辑器来处理 DirectX 应用开发中使用的各种丰富的纹理和图像格式。 这包括支持常用图像文件格式和颜色编码、alpha 通道和 MIP 映射等功能，以及 DirectX 支持的许多高度压缩、硬件加速的纹理格式。

## <a name="supported-formats"></a>支持的格式

图像编辑器支持以下图像格式：

|格式名称|文件扩展名|
|-----------------| - |
|可迁移网络图形|*.png*|
|JPEG|.jpg、.jpeg、.jpe、.jfif|
|Direct Draw Surface|.dds|
|可交换的图形格式|.gif|
|Bitmap|.bmp、.dib|
|标记图像文件格式|.tif、.tiff|
|TGA (Targa)|.tga|

## <a name="get-started"></a>入门

本部分介绍如何将图像添加到 Visual Studio 项目以及如何根据需要进行配置。

### <a name="add-an-image-to-your-project"></a>将图像添加到项目

1. 在“解决方案资源管理器”中，打开要添加图像的项目的快捷菜单，然后选择“添加” > “新项”。

2. 在“添加新项”对话框中的“已安装”下，选择“图形”，然后为图像选择合适的文件格式。

   > [!NOTE]
   > 如果“添加新项”对话框中没有“图形”类别，则可能需要安装“图像和三维模型编辑器”组件。 关闭对话框，然后从菜单栏选择“工具” > “获取工具和功能”，以打开“Visual Studio 安装程序”  。 选择“单个组件”选项卡，然后选择“游戏和图形”类别下的“图像和三维模型编辑器”组件。 选择“修改”。
   >
   > ![图像和三维模型编辑器组件](media/image-3d-model-editors-component.png)

   要了解如何根据需要选择文件格式，请参阅[选择图像格式](#choose-the-image-format)。

3. 指定图像文件的“名称”和所需的创建“位置” 。

4. 选择“添加”按钮。

### <a name="choose-the-image-format"></a>选择图像格式

一些文件格式可能比其他格式更加适合，具体取决于准备如何使用图像。 例如，某些格式可能不支持所需功能，比如透明度或特定颜色格式。 某些格式可能无法为计划的图像内容提供适当的压缩率。

以下信息有助于选择符合要求的图像格式：

**位图图像 (.bmp)**

位图图像格式。 支持 24 位颜色的未压缩图像格式。 位图格式不支持透明度。

**GIF 图像 (.gif)**

图形交换格式 (GIF) 图像格式。 支持多达 256 种颜色的 LZW 压缩无损图像格式。 不适合颜色细节极多的照片和图像，但可为颜色一致性高的低色图像提供较好的压缩率。

**JPG 图像 (.jpg)**

联合图像专家组 (JPEG) 图像格式。 支持 24 位颜色的高压缩率有损图像格式，适合具有高度颜色一致性的图像的常规用途压缩。

**PNG 图像 (.png)**

可移植网络图形格式 (PNG) 图像格式。 支持 24 位颜色和 Alpha 透明度的中度压缩无损图像格式。 适合自然图像和人工图像，但其压缩率不如 JPG 或 GIF 等有损格式。

**TIFF 图像 (.tif)**

标记图像文件格式（TIFF 或 TIF）图像格式。 一种支持多种压缩方案的灵活图像格式。

**DDS 纹理 (.dds)**

DirectDraw Surface (DDS) 纹理格式。 支持 24 位颜色和 Alpha 透明度的高压缩率有损纹理格式。 其压缩率高达 8:1。 该格式基于 S3 纹理压缩，可在图形硬件上解压缩。

**TGA 图像 (.tga)**

Truevision Graphics Adapter (TGA) 图像格式（也称为 Targa）。 一种使用 RLE 算法的无损压缩图像格式，支持具有多达 24 位颜色和 Alpha 透明度的颜色映射（调色板）或直接颜色图像。 不适合颜色细节极多的照片和图像，但对大范围内颜色一致的图像可提供较好的压缩率。

### <a name="configure-the-image"></a>配置图像

在处理所创建的图像之前，可更改其默认配置。 例如，可更改图像使用的尺寸或颜色格式。 有关如何配置图像此类属性以及其他属性的信息，请参阅[图像属性](#image-properties)。

> [!NOTE]
> 保存工作前，如果要使用特定的颜色格式，请确保设置了“颜色格式”属性。 如果文件格式支持压缩，在首次保存文件或在选择“另存为”时可调整压缩设置。

## <a name="work-with-the-image-editor"></a>使用图像编辑器

本部分描述如何使用图像编辑器修改纹理和图像。

“图像编辑器模式”工具栏中提供影响图像编辑器状态的命令以及一些高级命令。 此工具栏位于图像编辑器设计图面的顶部边缘。 绘图工具位于图像编辑器设计图面最左侧边缘的“图像编辑器”工具栏中。

### <a name="image-editor-mode-toolbar"></a>“图像编辑器模式”工具栏

![Visual Studio 中的“图像编辑器模式”工具栏](../designers/media/digit-tre-modal-toolbar.png)

下表描述了“图像编辑器模式”工具栏上的项目，按其从左至右的显示顺序依次列出：

|工具栏项|说明|
|------------------|-----------------|
|**Select**|可选择图像的矩形区域。 选择区域后，可执行剪切、复制、移动、缩放、旋转、翻转或删除操作。 若有可用的选择区域，绘图工具仅影响所选区域。|
|**不规则选择**|可选择图像的不规则区域。 选择区域后，可执行剪切、复制、移动、缩放、旋转、翻转或删除操作。 若有可用的选择区域，绘图工具仅影响所选区域。|
|**魔棒选择**|可选择图像中颜色相似的区域。 可配置容差（相邻颜色的最大差异，在此差异范围内，相邻颜色被视为相似）以选择颜色相似的较小或较大范围。 选择区域后，可执行剪切、复制、移动、缩放、旋转、翻转或删除操作。 若有可用的选择区域，绘图工具仅影响所选区域。|
|**平移**|可相对于窗口框架移动图像。 在“平移”模式下，选择图像上的点，然后进行移动。<br /><br /> 可按住 Ctrl 来暂时激活“平移”模式。|
|**缩放**|可相对于窗口框架显示较多或较少的图像细节。 在“缩放”模式下，选择图像中的一个点，然后将其向右或向下移动进行放大，向左或向上移动进行缩小。<br /><br /> 可在按住 Ctrl 的同时使用鼠标滚轮或按加号 (+) 或减号 (-) 进行放大或缩小。|
|**缩放到实际大小**|使用图像像素和屏幕像素间 1:1 的比例关系显示图像。|
|**缩放到合适大小**|在窗口框架中显示完整图像。|
|**缩放到适合宽度**|在窗口框架中显示完整宽度的图像。|
|**网格**|启用或禁用显示像素边界的网格。 缩放到图像之前，网格可能不会显示。|
|**查看下一个 MIP 级别**|激活 MIP 映射链中的下一个更大 MIP 级别。 活动的 MIP 级别会显示在设计图面上。 此项仅适用于具有 MIP 级别的纹理。|
|**查看上一个 MIP 级别**|激活 MIP 映射链中下一个更小的 MIP 级别。 活动的 MIP 级别会显示在设计图面上。 此项仅适用于具有 MIP 级别的纹理。|
|**红色通道**<br /><br /> **绿色通道**<br /><br /> **蓝色通道**<br /><br /> **Alpha 通道**|启用或禁用特定颜色通道。 **注意：** 通过系统地启用或禁用颜色通道可隔离与其中一个或多个通道有关的问题。 例如，可识别出不正确的 Alpha 透明度。|
|**背景**|启用或禁用通过图像的透明部分显示背景。 通过选择以下选项可配置背景的显示方式：<br /><br /> **棋盘**<br /> 将绿色和特定背景色结合使用，以棋盘图案显示背景。 可使用此选项让图像透明部分变得更加明显。<br /><br /> 白色背景<br /> 使用白色来显示背景。<br /><br /> 黑色背景<br /> 使用黑色来显示背景。<br /><br /> 动画背景<br /> 缓慢平移棋盘图案。 可使用此选项让图像透明部分变得更加明显。|
|**属性**|交替打开或关闭“属性”窗口。|
|**高级**|包含其他命令和选项。<br /><br /> **筛选器**<br /><br /> 提供了几个常见的图像筛选器：**黑白**、**模糊**、**亮化**、**暗化**、**边界检测**、**浮雕**、**反色**、**涟漪效果**、**棕色调** 和 **锐化**。<br /><br /> **图形引擎**<br /><br /> **用 D3D11 呈现**<br /> 使用 Direct3D 11 呈现图像编辑器设计图面。<br /><br /> **用 D3D11WARP 呈现**<br /> 使用 Direct3D 11 Windows 高级光栅化平台 (WARP) 呈现图像编辑器设计图面。<br /><br /> **工具**<br /><br /> **水平翻转**<br /> 围绕水平或 x 轴转置图像。<br /><br /> **垂直翻转**<br /> 围绕垂直或 y 轴转置图像。<br /><br /> **生成 Mip**<br /> 生成图像的 MIP 级别。 如果已经存在 MIP 级别，则会从最大 MIP 级别重新创建。 对较小 MIP 级别所作的任何更改都会丢失。 若要保存已生成的 MIP 级别，必须使用 .dds 格式来保存图像。<br /><br /> **视图**<br /><br /> **帧速率**<br /> 启用时，会在设计图面的右上角显示帧速率。 帧速率为每秒绘制的帧数。 **提示：** 可以选择“高级”按钮再次运行上一个命令。|

### <a name="image-editor-toolbar"></a>“图像编辑器”工具栏

![“图像编辑器”工具栏](../designers/media/digit-tre-toolbar.png)

下表描述了“图像编辑器”工具栏上的项目，按其从上到下的显示顺序依次列出：

|工具栏项|说明|
|------------------|-----------------|
|**铅笔**|使用处于活动状态的颜色选择绘制锯齿笔划。 可在“属性”窗口中设置笔划颜色和粗细。|
|**Brush**|使用处于活动状态的颜色选择绘制抗锯齿笔划。 可在“属性”窗口中设置笔划颜色和粗细。|
|**喷枪**|使用处于活动状态的颜色选择绘制抗锯齿笔划，此抗锯齿笔划与图像混合，随时间变化变得越饱和。 可在“属性”窗口中设置笔划颜色和粗细。|
|**Eyedropper**|将处于活动状态的颜色选择设置为选择的像素的颜色。|
|**Fill**|使用处于活动状态的颜色选择填充图像区域。 受影响区域和相同颜色像素及此相同颜色本身像素连接的每个像素会定义为在其中应用填充的像素。 如果填充应用于处于活动状态的选择区域，则受影响区域受选择区域限制。<br /><br /> 默认情况下，处于活动状态的颜色选择区域根据其 Alpha 组件，与图像受影响区域相混合。 若要使用活动颜色选择覆盖受影响区域，请在使用填充工具时按住 Shift 键。|
|**橡皮擦**|如果图像支持 alpha 通道，则将像素设置为完全透明色。 否则，将像素设置为活动背景色。|
|**线**、**矩形**、**圆角矩形**、**椭圆形**|在图像上绘制形状。 可在“属性”窗口中设置边框颜色和粗细。<br /><br /> 若要绘制一个宽度和高度相等的基元，请在绘制时按住 Shift 键。|
|**Text**|使用前景色选择绘制文本。 背景色由背景色选择所决定。 对于透明背景，背景色选择的 Alpha 值必须为 0。 文本区域处于活动状态时，可在“属性”窗口中设置是否使用抗锯齿笔划绘制文本，还可设置文本的 **值**、**字体**、**字号** 和样式（**加粗**、**斜体** 或 **下划线**）。 文本区域不再处于活动状态时会最终确定文本的内容和外观。|
|**旋转**|将图像顺时针旋转 90 度。|
|**Trim**|将图像剪裁为处于活动状态的选择区域。|

### <a name="work-with-mip-levels"></a>使用 MIP 级别

DirectDraw Surface (.dds) 等部分图像格式支持对纹理空间细节级别 (LOD) 使用 MIP 级别。 有关如何生成和使用 MIP 级别的信息，请参阅[如何：创建和修改 MIP 级别](../designers/how-to-create-and-modify-mip-levels.md)

### <a name="work-with-transparency"></a>使用透明度效果

DirectDraw Surface (.dds) 等部分图像格式支持透明度效果。 使用透明度效果的方式有几种，具体取决于所使用的工具。 若要为颜色选择指定透明度级别，可在“属性”窗口中设置颜色选择的 **A** (alpha) 组件。

下表描述了不同类型的工具如何控制透明度的应用方式：

|工具|说明|
|----------|-----------------|
|**铅笔**、**画笔**、**喷枪**、**线**、**矩形**、**圆角矩形**、**椭圆形**、**文本**|若要将活动颜色选择与图像混合，在“属性”窗口中，展开“通道”属性组，选中“Alpha”通道上的“绘制”复选框，然后正常绘制即可。<br /><br /> 若要使用活动颜色选择进行绘制并保留图像的 Alpha 值，可取消选中“Alpha”通道的“绘制”复选框，然后正常绘制即可。|
|**Fill**|若要将活动颜色选择与图像混合，只需选择要填充的区域即可。<br /><br /> 若要使用活动颜色选择（包括 alpha 通道的值）来覆盖图像，请按住 Shift，然后选择要填充的区域。|

### <a name="image-properties"></a>映像属性

可使用“属性”窗口指定图像的多种属性。 例如，可设置宽度和高度属性来调整图像的大小。

下表对图像属性进行了描述：

|属性|说明|
|--------------|-----------------|
|宽度|图像的宽度。|
|高度|图像的高度。|
|每像素位数|表示每个像素的位数。 此属性的值取决于图像的 **颜色格式**。|
|透明选择|若要基于选择层的 Alpha 值将选择层与主图像混合，则为 **True**；否则为 **False**。 此项仅适用于支持 Alpha 的图像。|
|格式|图像的颜色格式。 可以指定不同的颜色格式，具体取决于图像格式。 颜色格式定义图像中包含的颜色通道的数量和类型以及不同通道的大小和编码。|
|Mip 级别|活动 MIP 级别。 此项仅适用于具有 MIP 级别的纹理。|
|Mip 级别计数|图像中 MIP 级别的总数。 此项仅适用于具有 MIP 级别的纹理。|
|帧数|图像中帧的总数。 此项仅对支持纹理数组的图像可用。|
|Frame|当前的帧。 仅可查看第一个帧；保存图像时会丢失所有其他帧。|
|深度切片计数|图像中深度切片的总数。 此项仅对支持体积纹理的图像可用。|
|深度切片|当前深度切片。 仅可查看第一个切片；保存图像时会丢失所有其他切片。|

> [!NOTE]
> 由于“旋转角度”属性适用于所有工具和选择区域，因此它和其他工具属性始终显示在“属性”窗口的底部。 由于无其他选择或活动工具时会隐式选中整个图像，因此会始终显示“旋转角度”。 有关“旋转角度”属性的详细信息，请参阅[工具属性](#tool -properties)。

### <a name="resize-images"></a>调整图像大小

以下是调整图像大小的两种方式。 在这两种情况下，图像编辑器均使用双线性内插来对图像重新取样。

- 在“属性”窗口中，为“宽度”和“高度”属性指定新的值。

- 选择整个图像，然后使用边框标记调整图像的大小。

### <a name="selected-regions"></a>选择区域

图像编辑器中的所选项定义了活动图像的区域。 活动区域受工具和转换的影响。 存在活动选择区域时，选择区域之外的区域不会受大多数工具和转换的影响。 如果不存在活动选择区域，则整个图像处于活动状态。

大多数工具（铅笔、画笔、喷枪、填充、橡皮擦和二维基元）以及转换（旋转、剪裁、反色、水平翻转和垂直翻转）受活动选择区域限制或定义。 但是，某些工具（取色器和文本）和转换（生成 Mip）不受任何活动选择的影响。 这些工具始终表现为如同整个图像处于活动选择区域一样。

选择区域时，可按住 Shift 来选择成比例的（方形）区域。 否则，选择区域不受限制。

#### <a name="resize-selections"></a>调整选定内容大小

选择区域后，可通过更改选择区域标记的大小来重新调整选择区域或其图像内容的大小。 调整选择区域大小时，可在调整大小的同时使用以下修改键来更改所选区域的行为：

**Ctrl** - 在调整大小前复制所选区域的内容。 从而调整副本大小，但保留原始图像。

**Shift** - 基于原始大小按比例调整所选区域的大小。

**Alt** - 更改所选区域的大小。 这不会修改图像。

下表描述了修改键的有效组合：

|Ctrl|Shift|Alt|说明|
|----------|-----------|---------|-----------------|
||||调整所选区域内容的大小。|
||**Shift**||按比例调整所选区域内容的大小。|
|||**Alt**|调整所选区域的大小。 这会定义新的选择区域。|
||**Shift**|**Alt**|按比例调整所选区域的大小。 这会定义新的选择区域。|
|**Ctrl**|||复制并调整所选区域内容的大小。|
|**Ctrl**|**Shift**||复制并按比例调整所选区域内容的大小。|

### <a name="tool-properties"></a>工具属性

选择工具时，可使用“属性”窗口指定有关工具如何影响图片的详细信息。 例如，可设置“铅笔”工具的粗细或“画笔”工具的颜色。

可同时设置前景色和背景色。 两者都支持 alpha 通道来提供用户定义的不透明度。 这些设置适用于所有工具。 如果使用鼠标，则鼠标左键对应前景色，鼠标右键对应背景色。

下表对工具属性进行了描述：

|工具|属性|
|----------|----------------|
|所有工具和选择|**旋转角度**<br /> 定义选择区域或工具效果按顺时针方向旋转的角度（以度为单位）。|
|**铅笔**、**画笔**、**喷枪**、**橡皮擦**|**Thickness**<br /> 定义工具有效作用区域的大小。|
|**Text**|**抗锯齿**<br /> 绘制具有抗锯齿边缘的文本。 这会使文本外观更流畅。<br /><br /> **值**<br /> 要绘制的文本。<br /><br /> **字体**<br /> 用于绘制文本的字体。<br /><br /> **大小**<br /> 文本大小。<br /><br /> **加粗**<br /> 使字体加粗。<br /><br /> **斜体**<br /> 使字体变为斜体。<br /><br /> **下划线**<br /> 使字体带下划线。|
|**二维基元**|**抗锯齿**<br /> 绘制具有抗锯齿边缘的基元。 这会使基元外观更流畅。<br /><br /> **Thickness**<br /> 定义构成基元边界的线的粗细。<br /><br /> **半径 X**<br /> （仅限圆角矩形）定义基元上下边缘的圆角半径。<br /><br /> **半径 Y**<br /> （仅限圆角矩形）定义基元左右边缘的圆角半径。|
|**铅笔**、**画笔**、**喷枪**、**二维基元**|通道 <br /> 为查看和绘制启用或禁用特定颜色通道。 如果“查看”设置了特定颜色通道，则该通道在图像中可见；否则为不可见。 如果“绘制”设置了特定颜色通道，则该通道受绘制操作影响；否则不受影响。|
|**魔棒选择**、**填充**|**容差**<br /> 定义相邻颜色被视为相似的最大差异，从而使更多或更少相似颜色成为受影响区域或选择区域的一部分。 默认情况下，值为 32，这意味着原始颜色的 32 种色度（颜色更淡或更浓）之内的相邻像素会被视为该区域的一部分。|

## <a name="keyboard-shortcuts"></a>键盘快捷键

|命令|键盘快捷键|
|-------------| - |
|切换到“选择”模式|**S**|
|切换到“缩放”模式|**Z**|
|切换到“平移”模式|**K**|
|全选|Ctrl+A |
|删除当前选定内容|**删除**|
|取消当前选择|Esc（Esc 键）|
|放大|Ctrl+向前滚动鼠标滚轮 <br /><br /> Ctrl+PgUp <br /><br /> 加号 (+)|
|缩小|Ctrl-向后滚动鼠标滚轮 <br /><br /> Ctrl-PgDn <br /><br /> 减号 (-)|
|向上平移图像|**向后滚动鼠标滚轮**<br /><br /> PgDn|
|向下平移图像|**向前滚动鼠标滚轮**<br /><br /> PgUp|
|向左平移图像|Shift+向后滚动鼠标滚轮 <br /><br /> **向左滚动鼠标滚轮**<br /><br /> Shift+PgDn |
|向右平移图像|Shift+向前滚动鼠标滚轮 <br /><br /> **向右滚动鼠标滚轮**<br /><br /> Shift+PgUp |
|缩放到实际大小|Ctrl + 0（零）|
|根据窗口调整图像大小|Ctrl+G，Ctrl+F   |
|将图像调整到窗口宽度|Ctrl+G，Ctrl+I   |
|切换网格|Ctrl+G，Ctrl+G   |
|将图像剪切到当前选择区域|Ctrl+G，Ctrl+C   |
|查看下一（更高细节）MIP 级别|Ctrl+G，Ctrl+6   |
|查看上一（更低细节）MIP 级别|Ctrl+G，Ctrl+7   |
|切换红色颜色通道|Ctrl+G，Ctrl+1   |
|切换绿色颜色通道|Ctrl+G，Ctrl+2   |
|切换蓝色颜色通道|Ctrl+G，Ctrl+3   |
|切换 Alpha（透明度）通道|Ctrl+G，Ctrl+4   |
|切换 Alpha 棋盘图案|Ctrl+G，Ctrl+B   |
|切换到不规则选择工具|**L**|
|切换到魔棒选择工具|**M**|
|切换到铅笔工具|**P**|
|切换到画笔工具|**B**|
|切换到填充工具|**F**|
|切换到橡皮擦工具|**E**|
|切换到文本工具|**T**|
|切换到颜色选择（取色器）工具|**I**|
|移动活动选择区域及其内容。|箭头键。|
|调整活动选择区域及其内容的大小。|Ctrl+箭头键 |
|移动活动选择区域，但不移动其内容。|Shift+箭头键 |
|调整活动选择区域大小，但不调整其内容大小。|Shift+Ctrl+箭头键  |
|提交当前层|**返回值**|
|降低工具粗度|**[**|
|增加工具粗度|**]**|

## <a name="related-topics"></a>相关主题

|Title|说明|
|-----------|-----------------|
|[处理游戏和应用的三维资产](../designers/working-with-3-d-assets-for-games-and-apps.md)|概述 Visual Studio 中可用于处理图形资产（例如纹理和图像、三维模型和着色器效果）的工具。|
|[模型编辑器](../designers/model-editor.md)|描述如何使用 Visual Studio 模型编辑器处理三维模型。|
|[着色器设计器](../designers/shader-designer.md)|描述如何使用 Visual Studio 着色器设计器处理着色器。|
