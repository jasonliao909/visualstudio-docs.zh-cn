---
title: 数学运算节点
description: 了解着色器设计器中的数学运算节点，它们执行代数、逻辑、三角函数和其他数学运算。
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: reference
ms.assetid: adc225cc-1cf5-4f7c-9b00-e7ac8450b6b9
author: TerryGLee
ms.author: tglee
manager: jmartens
ms.technology: vs-ide-designers
ms.workload:
- multiple
ms.openlocfilehash: d48ed02b12315f741beab59d05d4fa15b422b7a4
ms.sourcegitcommit: 68897da7d74c31ae1ebf5d47c7b5ddc9b108265b
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/13/2021
ms.locfileid: "122035496"
---
# <a name="math-nodes"></a>数学运算节点

在着色器设计器中，数学运算节点执行代数、逻辑、三角函数等其他数学运算。

> [!NOTE]
> 在着色器设计器中使用数学运算节点时，类型提升尤其明显。 若要了解类型提升如何影响输入参数，请参阅[着色器设计器节点](../designers/shader-designer-nodes.md)中的“输入提升”部分。

## <a name="math-node-reference"></a>数学运算节点参考

|节点|详细信息|属性|
|----------|-------------|----------------|
|**Abs**|计算每个分量指定输入的绝对值。<br /><br /> 对于输入 `X` 的每个分量，负值将被设为正值，使结果的所有分量均为正值。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 用于确定绝对值的值。<br /><br /> `Output:`<br /><br /> `Output`：与输入 `X` 相同<br /> 每个分量的绝对值。|无|
|**添加**|计算每个分量指定输入的按分量逐位的和。<br /><br /> 对于结果的每个分量，会将输入 `X` 和输入 `Y` 的对应分量相加在一起。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 要相加的其中一个值。<br /><br /> `Y`：与输入 `X` 相同<br /> 要相加的其中一个值。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 每个分量的总和。|无|
|**Ceil**|计算每个分量指定输入的上限。<br /><br /> 值的上限是大于或等于该值的最小整数。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 要计算其上限的值。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 每个分量的上限。|无|
|**Clamp**|将指定输入的每个分量固定在预定义范围内。<br /><br /> 对于结果的每个分量，低于定义范围以下的值将被设为该范围中的最小值，超出定义范围的值将被设为该范围中的最大值，处于该范围内的值将保持不变。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 要固定其范围的值。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 每个分量的固定值。|**Max**<br /> 范围内的最大可能值。<br /><br /> **Min**<br /> 范围内的最小可能值。|
|**Cos**|计算每个分量指定输入的余弦（以弧度为单位）。<br /><br /> 对于结果的每个分量，将计算对应分量的余弦值（以弧度为单位）。 结果具有值在 [-1, 1] 范围内的分量。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 要计算其余弦的值（以弧度为单位）。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 每个分量的余弦。|无|
|**Cross**|计算指定的三分量矢量的叉积。<br /><br /> 可以使用叉积来计算由两个矢量定义的表面的法线。<br /><br /> **输入：**<br /><br /> `X`: `float3`<br /> 叉积左边的矢量。<br /><br /> `Y`: `float3`<br /> 叉积右边的矢量。<br /><br /> **输出：**<br /><br /> `Output`: `float3`<br /> 叉积。|无|
|**距离**|计算指定点之间的距离。<br /><br /> 结果为正标量值。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 要确定两点之间距离的其中一个点。<br /><br /> `Y`：与输入 `X` 相同<br /> 要确定两点之间距离的其中一个点。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 距离。|无|
|**除**|计算指定输入的按分量逐个相除的商。<br /><br /> 对于结果的每个分量，输入 `X` 的对应分量将除以输入 `Y` 的对应分量。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 被除数值。<br /><br /> `Y`：与输入 `X` 相同<br /> 除数值。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 每个分量的商。|无|
|**圆点**|计算指定矢量的点积。<br /><br /> 结果为标量值。 可以使用点积来确定两个矢量之间的角度。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 其中一个约分值。<br /><br /> `Y`：与输入 `X` 相同<br /> 其中一个约分值。<br /><br /> **输出：**<br /><br /> `Output`: `float`<br /> 点积。|无|
|**Floor**|计算每个分量指定输入的向下舍入值。<br /><br /> 对于结果的每个分量，其值是小于或等于输入的对应分量的最大整数值。 结果的每个分量均为整数。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 要计算其向下舍入值的值。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 每个分量的向下舍入值。|无|
|**Fmod**|计算指定输入的按分量逐位的模数（余数）。<br /><br /> 对于结果的每个分量，将用输入 `X` 的对应分量减去输入 `Y` 的对应分量的一些整数倍数 m，以产生一个余数。 选择倍数 m，使得余数小于输入 `Y` 的对应分量，并且具有与输入 `X` 的对应分量相同的符号。 例如，fmod(-3.14, 1.5) 是 -0.14。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 被除数值。<br /><br /> `Y`：与输入 `X` 相同<br /> 除数值。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 每个分量的模数。|无|
|**Frac**|删除每个分量指定输入的整数部分。<br /><br /> 对于结果的每个分量，输入的对应分量的整数部分将被删除，但会保留小数部分和符号。 该小数值在 [0, 1) 的范围内。 例如，值-3.14 变为值 -0.14。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 要计算其小数部分的值。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 每个分量的小数部分。|无|
|**Lerp**|线性内插。 计算指定输入的按分量逐位的加权平均值。<br /><br /> 对于结果的每个分量，将计算输入 `X` 和输入 `Y` 的对应分量的加权平均值。 权重由 `Percent` 提供（一个标量），并统一应用于所有分量。 可以使用它在点、颜色、属性和其他值之间进行内插。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 原始值。 `Percent` 为 0 时，结果等于此输入。<br /><br /> `Y`：与输入 `X` 相同<br /> 终端值。 `Percent` 为 1 时，结果等于此输入。<br /><br /> `Percent`: `float`<br /> 一个标量权重，以从输入 `X` 到输入 `Y` 的距离的百分比表示。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 一个值，与指定输入共线的值。|无|
|**乘加**|计算指定输入的按分量逐位的乘加。<br /><br /> 对于结果的每个分量，输入 `M` 和 `A` 的对应分量的积将被添加到输入 `B` 的对应分量中。 可在常见公式（例如，线的点斜率公式和缩放的公式）中找到此操作顺序，然后偏差输入。<br /><br /> **输入：**<br /><br /> `M`：`float`、`float2`、`float3` 或 `float4`<br /> 要一起相乘的其中一个值。<br /><br /> `A`：与输入 `M` 相同<br /> 要一起相乘的其中一个值。<br /><br /> `B`：与输入 `M` 相同<br /> 要添加到其他两个输入的积中的值。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `M` 相同<br /> 每个分量的乘加的结果。|无|
|**Max**|计算指定输入的按分量逐位的最大值。<br /><br /> 对于结果的每个分量，将选取输入的对应分量中的较大者。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 要计算最大值的其中一个值。<br /><br /> `Y`：与输入 `X` 相同<br /> 要计算最大值的其中一个值。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 每个分量的最大值。|无|
|**Min**|计算指定输入的按分量逐位的最小值。<br /><br /> 对于结果的每个分量，将选取输入的对应分量中的较小者。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 要计算最小值的其中一个值。<br /><br /> `Y`：与输入 `X` 相同<br /> 要计算最小值的其中一个值。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 每个分量的最小值。|无|
|**乘**|计算指定输入的按分量逐位的积。<br /><br /> 对于结果的每个分量，输入 `X` 和输入 `Y` 的对应分量将全部相乘。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 要一起相乘的其中一个值。<br /><br /> `Y`：与输入 `X` 相同<br /> 要一起相乘的其中一个值。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 每个分量的积。|无|
|**规范化**|对指定矢量进行标准化。<br /><br /> 标准化矢量将保留原始矢量的方向，但不保留其量值。 可以使用标准化矢量来简化矢量的量值在其中不重要的计算。<br /><br /> **输入：**<br /><br /> `X`：`float2`、`float3` 或 `float4`<br /> 要规范化的向量。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 规范化的向量。|无|
|**一减**|计算 1 和每个分量指定输入之间的差。<br /><br /> 对于结果的每个分量，将从 1 中减去输入的对应分量。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 要从 1 中减去的值。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 1 和每个分量指定输入之间的差。|无|
|**电源**|计算指定输入的按分量逐位的幂。<br /><br /> 对于结果的每个分量，以输入 `X` 对应分量为底数，以输入 `Y` 的对应分量为指数进行幂运算。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 基数值<br /><br /> `Y`：与输入 `X` 相同<br /> 指数值。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 每个分量的幂。|无|
|**饱和**|将指定输入的每个分量固定在范围 [0, 1] 内。<br /><br /> 可以使用此范围表示计算中的百分比和其他相对度量。 对于结果的每个分量，小于 0 的对应分量值将被设为等于 0。大于 1 的对应分量值将被设为等于 1，处于该范围内的值将保持不变。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 要饱和的值。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 每个分量的饱和值。|无|
|**Sin**|计算每个分量指定输入的正弦值（以弧度为单位）。<br /><br /> 对于结果的每个分量，将计算对应分量的正弦值（以弧度为单位）。 结果具有值在 [-1,1] 范围内的分量。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 要计算其正弦的值（以弧度为单位）。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 每个分量的正弦。|无|
|**Sqrt**|计算每个分量指定输入的平方根。<br /><br /> 对于结果的每个分量，将计算对应分量的平方根。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 要计算其平方根的值。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 每个分量的平方根。|无|
|**减**|计算指定输入的按分量逐位的差。<br /><br /> 对于结果的每个分量，将从输入 `X` 的对应分量中减去输入 `Y` 的对应分量。 可以使用它来计算从第一个输入延伸到第二个输入的矢量。<br /><br /> **输入：**<br /><br /> `X`：`float`、`float2`、`float3` 或 `float4`<br /> 要从中减去值的值。<br /><br /> `Y`：与输入 `X` 相同<br /> 要从输入 `X` 中减去的值。<br /><br /> **输出：**<br /><br /> `Output`：与输入 `X` 相同<br /> 每个分量的差。|无|
|**转换三维向量**|将指定的 3D 向量转换到不同的空间中。<br /><br /> 可以使用它将点或向量放入到公共空间中，以便使用它们执行有意义的计算。<br /><br /> **输入：**<br /><br /> `Vector`: `float3`<br /> 要转换的向量。<br /><br /> **输出：**<br /><br /> `Output`: `float3`<br /> 转换后的向量。|**源系统**<br /> 矢量的本机空间。<br /><br /> **目标系统**<br /> 要将矢量转换到的空间。|
